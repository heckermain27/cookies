<html>
  <head>
  <title>Mark Chat</title>
    <style>
      body {
        color: #421; font-weight: bold; font-size: 18px; background: #EE4;
        background-image: url("mark.jpg"); background-repeat: repeat-y;
      }
      span {
        color: #711;
      }
      ::-webkit-input-placeholder {
        color: #711
      }
      #main {
        position: fixed; top: 40%; right: 60px; width: 400px;
        border: 0px solid #421; padding: 40px;
      }
      #main div {
        margin: 10px;
      }
      #input {
        border: 0; background: #EBE547; padding: 5px; border: 1px solid #421;
      }
    </style>
  </head>
  <body>
    <div id="main">
      <div>User: <span id="user"></span></div>
      <div>Mark: <span id="mark"></span></div>
      <div><input id="input" type="text" placeholder="say anything..." autocomplete="off"/></div>
    </div>
    <script type="text/javascript">
      var trigger = [
        ["hi", "hey", "hello"],
        ["how are you", "how is life", "how are things"],
        ["what are you doing", "what is going on"],
        ["how old are you"],
        ["who are you", "are you human", "are you bot", "are you human or bot"],
        ["who created you", "who made you"],
        ["your name please", "your name", "may i know your name", "what is your name"],
        ["i love you"],
        ["happy", "good"],
        ["bad", "bored", "tired"],
        ["help me", "tell me story", "tell me joke"],
        ["ah", "yes", "ok", "okay", "nice", "thanks", "thank you"],
        ["bye", "good bye", "goodbye", "see you later"],
        ["do you like men", "are you gay", "homo"],
        ["cookies", "yummy cookies", "cookies are good"]
      ];
      var reply = [
        ["Hi", "Hey", "Hello"],
        ["Fine", "Pretty well", "Fantastic"],
        ["Nothing much", "About to go to sleep", "Can you guest?", "I don't know actually"],
        ["I am 8 years old"],
        ["I am a Mark", "I am the Cookie Monster. What are you?", "Human/Bot"],
        ["Cole", "My lord and savior Cole", "Coleslaw"],
        ["I am Mark", "Mark"],
        ["I love you too", "Me too"],
        ["Have you ever felt bad?", "Glad to hear it"],
        ["Why?", "Why? You shouldn't!", "Try watching TV"],
        ["I will", "What about?"],
        ["Tell me a story", "Tell me a joke", "Tell me about yourself", "You are welcome"],
        ["Bye", "Goodbye", "See you later"],
        ["Yes", "I love em", "No", "Nah", "Homo"],
        ["Yum", "Preach it", "Exactly"]
      ];
      var alternative = ["Haha...", "Eh..."];
      document.querySelector("#input").addEventListener("keypress", function(e) {
        var key = e.which || e.keyCode;
        if (key === 13) { // Enter Button
          var inpujt = document.getElementById("input").value;
          document.getElementById("user").innerHTML = input;
          output(input);
        }
      });
      function output(input) {
        try {
        var product = input + "=" + eval(input);
        } catch(e) {
          var text = (input.toLowerCase()).replace(/[^\w\s\d]/gi, ""); // Remove all chars except words and spaces.
          text = text.replace(/ a /g, " ").replace(/i feel /g, "").replace(/whats/g, "what is").replace(/please /g, "").replace(/ please/g, "");
          if (compare(trigger, reply, text)) {
            var product = compare(trigger, reply, text);
          } else {
            var product = alternative[Math.floor(Math.random()*alternative.length)];
          }
        }
        document.getElementById("mark").innerHTML = product;
        speak(product);
        document.getElementById("input").value = ""; // Clear Input Value
      }
      function compare(arr, array, string) {
        var item;
        for (var x = 0; x < arr.length; x++) {
          for (var y = 0; y < array.length; y++) {
            if (arr[x][y] == string) {
              items = array[x];
              item = items[Math.floor(Math.random() * items.length)];
            }
          }
        }
        return item;
      }
    </script>
  </body>
</html>
